# ğŸšŒ BusTracker - å…¬äº¤æŸ¥è¯¢ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Vue 3 + Express + MongoDB çš„ç°ä»£åŒ–å…¬äº¤çº¿è·¯æŸ¥è¯¢ç³»ç»Ÿï¼Œæä¾›çº¿è·¯æŸ¥è¯¢ã€æ¨¡ç³Šæœç´¢ã€æ”¶è—ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

BusTracker æ˜¯ä¸€ä¸ªå…¨æ ˆå…¬äº¤æŸ¥è¯¢ Web åº”ç”¨ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡çº¿è·¯ç¼–å·ã€ç«™ç‚¹åç§°ç­‰å…³é”®è¯å¿«é€ŸæŸ¥è¯¢å…¬äº¤ä¿¡æ¯ï¼Œæ”¯æŒæ”¶è—å¸¸ç”¨çº¿è·¯ï¼Œå¹¶æä¾›å‹å¥½çš„åˆ†é¡µå±•ç¤ºã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **çº¿è·¯æŸ¥è¯¢**ï¼šæ”¯æŒç²¾å‡†æŸ¥è¯¢å’Œæ¨¡ç³Šæœç´¢
- ğŸ“‹ **çº¿è·¯åˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰çº¿è·¯ï¼Œåˆ†é¡µå±•ç¤ºï¼ˆæ¯é¡µ5æ¡ï¼‰
- â­ **æ”¶è—åŠŸèƒ½**ï¼šæ”¶è—å¸¸ç”¨çº¿è·¯ï¼Œæ•°æ®æŒä¹…åŒ–åˆ°æœ¬åœ°
- ğŸ—ºï¸ **è¯¦ç»†ä¿¡æ¯**ï¼šå±•ç¤ºçº¿è·¯çš„èµ·ç»ˆç‚¹ç«™ã€é€”ç»ç«™ç‚¹ã€å…¨ç¨‹è€—æ—¶ç­‰
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**ï¼šVue 3 (Composition API)
- **UI ç»„ä»¶åº“**ï¼šElement Plus
- **æ„å»ºå·¥å…·**ï¼šVite
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios
- **è·¯ç”±**ï¼šVue Router

### åç«¯
- **è¿è¡Œç¯å¢ƒ**ï¼šNode.js
- **Web æ¡†æ¶**ï¼šExpress
- **æ•°æ®åº“**ï¼šMongoDB
- **ODM**ï¼šMongoose
- **ç¯å¢ƒå˜é‡**ï¼šdotenv

## ğŸ“ é¡¹ç›®ç»“æ„

```
BusTracker/
â”œâ”€â”€ client/                 # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/        # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°ï¼ˆaxios å°è£…ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.vue        # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.js        # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ public/            # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ index.html         # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ vite.config.js     # Vite é…ç½®
â”‚   â””â”€â”€ package.json       # å‰ç«¯ä¾èµ–
â”‚
â”œâ”€â”€ server/                # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ BusRoute.js    # çº¿è·¯æ¨¡å‹
â”‚   â”‚   â””â”€â”€ BusStop.js     # ç«™ç‚¹æ¨¡å‹
â”‚   â”œâ”€â”€ routes/            # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ busRoutes.js   # çº¿è·¯ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ app.js             # åç«¯å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ addStops.js        # ç«™ç‚¹æ•°æ®åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ linkRoutes.js      # çº¿è·¯å…³è”è„šæœ¬
â”‚   â”œâ”€â”€ checkData.js       # æ•°æ®æŸ¥è¯¢è„šæœ¬
â”‚   â””â”€â”€ package.json       # åç«¯ä¾èµ–
â”‚
â”œâ”€â”€ .env                   # ç¯å¢ƒå˜é‡é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 14.x
- MongoDB >= 4.x
- npm æˆ– yarn

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/zzx0714/BusTracker.git
cd BusTracker
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š

```env
MONGODB_URI=mongodb://localhost:27017/bustracker
PORT=3000
```

### 3. å¯åŠ¨ MongoDB

ç¡®ä¿ MongoDB æœåŠ¡å·²å¯åŠ¨ï¼š

```bash
# Windows
net start MongoDB

# macOS/Linux
sudo systemctl start mongod
# æˆ–
brew services start mongodb-community
```

### 4. å®‰è£…åç«¯ä¾èµ–å¹¶å¯åŠ¨

```bash
cd server
npm install
node app.js
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### 5. åˆå§‹åŒ–æ•°æ®ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰

åœ¨å¦ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œè¿è¡Œä»¥ä¸‹è„šæœ¬å¯¼å…¥æµ‹è¯•æ•°æ®ï¼š

```bash
cd server

# æ·»åŠ çº¿è·¯æ•°æ®ï¼ˆå·²æœ‰18æ¡çº¿è·¯ï¼‰
node addMoreRoutes.js

# æå–ç«™ç‚¹æ•°æ®
node addStops.js

# å…³è”çº¿è·¯å’Œç«™ç‚¹
node linkRoutes.js

# æŸ¥çœ‹æ•°æ®ï¼ˆå¯é€‰ï¼‰
node checkData.js
```

### 6. å®‰è£…å‰ç«¯ä¾èµ–å¹¶å¯åŠ¨

```bash
cd ../client
npm install
npm run dev
```

å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

### 7. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:5173`

## ğŸ“Š æ•°æ®è¯´æ˜

ç³»ç»Ÿé»˜è®¤åŒ…å«ï¼š
- **18 æ¡å…¬äº¤çº¿è·¯**ï¼š1è·¯ã€2è·¯ã€3è·¯ã€5è·¯ã€6è·¯ã€8è·¯ã€10è·¯ã€12è·¯ã€15è·¯ã€18è·¯ã€20è·¯ã€25è·¯ã€28è·¯ã€30è·¯ã€35è·¯ã€40è·¯ã€45è·¯ã€50è·¯
- **64 ä¸ªç«™ç‚¹**ï¼šè¦†ç›–ç«è½¦ç«™ã€é«˜é“ç«™ã€å¸‚æ”¿åºœã€äººæ°‘å…¬å›­ç­‰ä¸»è¦ç«™ç‚¹
- **å¤šçº¿è·¯æ¢ä¹˜ç«™ç‚¹**ï¼šå¦‚ç«è½¦ç«™ï¼ˆ5æ¡çº¿è·¯ï¼‰ã€å¸‚æ”¿åºœï¼ˆ6æ¡çº¿è·¯ï¼‰ã€äººæ°‘å…¬å›­ï¼ˆ7æ¡çº¿è·¯ï¼‰

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### æŸ¥è¯¢çº¿è·¯
1. åœ¨æœç´¢æ¡†è¾“å…¥çº¿è·¯ç¼–å·ï¼ˆå¦‚"1è·¯"ï¼‰
2. ç‚¹å‡»"ğŸ” æŸ¥è¯¢çº¿è·¯"æŒ‰é’®æˆ–æŒ‰ Enter é”®
3. æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œè¾“å…¥"ç«è½¦"å¯æŸ¥è¯¢æ‰€æœ‰åŒ…å«"ç«è½¦"çš„çº¿è·¯

### æŸ¥çœ‹æ‰€æœ‰çº¿è·¯
- ç‚¹å‡»"ğŸ“‹ æŸ¥çœ‹æ‰€æœ‰çº¿è·¯"æŒ‰é’®
- ç³»ç»Ÿå°†åˆ†é¡µå±•ç¤ºæ‰€æœ‰çº¿è·¯ï¼ˆæ¯é¡µ5æ¡ï¼‰
- ä½¿ç”¨åº•éƒ¨åˆ†é¡µå™¨ç¿»é¡µ

### æ”¶è—çº¿è·¯
1. ç‚¹å‡»çº¿è·¯å¡ç‰‡å³ä¾§çš„ â­ å›¾æ ‡å³å¯æ”¶è—
2. å†æ¬¡ç‚¹å‡»å¯å–æ¶ˆæ”¶è—
3. ç‚¹å‡»"â­ æˆ‘çš„æ”¶è—"æŸ¥çœ‹æ‰€æœ‰æ”¶è—çš„çº¿è·¯
4. æ”¶è—æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šä¸¢å¤±

### æŸ¥çœ‹çº¿è·¯è¯¦æƒ…
- ç‚¹å‡»çº¿è·¯å¡ç‰‡å±•å¼€/æ”¶èµ·è¯¦ç»†ä¿¡æ¯
- æŸ¥çœ‹é€”ç»ç«™ç‚¹ã€é¦–æœ«ç­æ—¶é—´ã€ç¥¨ä»·ç­‰ä¿¡æ¯

## ğŸ”Œ API æ¥å£

### çº¿è·¯ç›¸å…³

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/routes` | è·å–æ‰€æœ‰çº¿è·¯ |
| GET | `/api/routes/:routeNumber` | æ ¹æ®çº¿è·¯ç¼–å·ç²¾ç¡®æŸ¥è¯¢ |
| GET | `/api/routes/search?keyword=xxx` | æ¨¡ç³Šæœç´¢çº¿è·¯ |
| POST | `/api/routes` | æ–°å¢çº¿è·¯ |
| PUT | `/api/routes/:routeNumber` | æ›´æ–°çº¿è·¯ä¿¡æ¯ |

### è¯·æ±‚ç¤ºä¾‹

```javascript
// æŸ¥è¯¢æ‰€æœ‰çº¿è·¯
GET http://localhost:3000/api/routes

// ç²¾ç¡®æŸ¥è¯¢1è·¯
GET http://localhost:3000/api/routes/1è·¯

// æ¨¡ç³Šæœç´¢åŒ…å«"ç«è½¦"çš„çº¿è·¯
GET http://localhost:3000/api/routes/search?keyword=ç«è½¦

// æ–°å¢çº¿è·¯
POST http://localhost:3000/api/routes
Content-Type: application/json

{
  "routeNumber": "100è·¯",
  "startStation": "èµ·ç‚¹ç«™",
  "endStation": "ç»ˆç‚¹ç«™",
  "totalTime": 45,
  "stations": ["èµ·ç‚¹ç«™", "ä¸­é—´ç«™1", "ä¸­é—´ç«™2", "ç»ˆç‚¹ç«™"]
}
```

## ğŸ”§ å¼€å‘è„šæœ¬

### å‰ç«¯

```bash
npm run dev      # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build    # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview  # é¢„è§ˆç”Ÿäº§æ„å»º
```

### åç«¯

```bash
node app.js           # å¯åŠ¨åç«¯æœåŠ¡
node checkData.js     # æŸ¥çœ‹æ•°æ®åº“æ•°æ®
node addStops.js      # æ·»åŠ ç«™ç‚¹æ•°æ®
node linkRoutes.js    # å…³è”çº¿è·¯å’Œç«™ç‚¹
```

## ğŸ“ æ•°æ®æ¨¡å‹

### BusRouteï¼ˆçº¿è·¯ï¼‰

```javascript
{
  routeNumber: String,      // çº¿è·¯ç¼–å·ï¼ˆå”¯ä¸€ï¼‰
  startStation: String,     // èµ·ç‚¹ç«™
  endStation: String,       // ç»ˆç‚¹ç«™
  stations: [String],       // é€”ç»ç«™ç‚¹æ•°ç»„
  totalTime: Number,        // å…¨ç¨‹è€—æ—¶ï¼ˆåˆ†é’Ÿï¼‰
  updateTime: Date          // æ›´æ–°æ—¶é—´
}
```

### BusStopï¼ˆç«™ç‚¹ï¼‰

```javascript
{
  name: String,                           // ç«™ç‚¹åç§°
  location: {                             // ä½ç½®ä¿¡æ¯
    latitude: Number,
    longitude: Number
  },
  routes: [ObjectId],                     // é€”ç»çº¿è·¯ï¼ˆå…³è” BusRouteï¼‰
  address: String                         // ç«™ç‚¹åœ°å€
}
```

## ğŸ¨ åŠŸèƒ½æˆªå›¾

*(å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ åº”ç”¨æˆªå›¾)*

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æºã€‚

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ GitHub Issue
- é‚®ç®±ï¼š18965125225@163.com

## ğŸ™ è‡´è°¢

- [Vue.js](https://vuejs.org/)
- [Element Plus](https://element-plus.org/)
- [Express](https://expressjs.com/)
- [MongoDB](https://www.mongodb.com/)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼
